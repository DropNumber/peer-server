// Generated by CoffeeScript 1.6.2
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.ClientBrowserDataChannel = (function() {
    function ClientBrowserDataChannel(onMessageCallback, desiredServer) {
      this.onMessageCallback = onMessageCallback;
      this.desiredServer = desiredServer;
      this.send = __bind(this.send, this);
      this.onData = __bind(this.onData, this);
      this.onOpen = __bind(this.onOpen, this);
      this.peer = new Peer({
        key: "rrvwvw4tuyxpqfr",
        config: {
          "iceServers": []
        }
      });
      this.peer.on("open", this.onOpen);
    }

    ClientBrowserDataChannel.prototype.onOpen = function(id) {
      this.id = id;
      this.connection = this.peer.connect(this.desiredServer, {
        reliable: true
      });
      return this.connection.on("data", this.onData);
    };

    ClientBrowserDataChannel.prototype.onData = function(data) {
      return this.onMessageCallback(data);
    };

    ClientBrowserDataChannel.prototype.send = function(data) {
      return this.connection.send(data);
    };

    return ClientBrowserDataChannel;

  })();

}).call(this);

/*
//@ sourceMappingURL=ClientBrowserDataChannel.map
*/
